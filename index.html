<!DOCTYPE html>
<html>
<head>
Â  <title>Crypto Futures Signal Scanner</title>
Â  <meta name="viewport" content="width=device-width, initial-scale=1" />
Â  <style>
Â  Â  body {
  background-color: #121212;
  color: #f0f0f0;
  font-family: monospace;
  padding: 1rem;
}
.signal-card {
  border: 1px solid #333;
  border-radius: 12px;
  padding: 10px;
  margin-bottom: 15px;
  background-color: #1e1e1e;
  box-shadow: 0 4px 6px rgba(0,0,0,0.3);
}
.trade-button {
  background-color: #00c853;
  color: white;
  padding: 6px 12px;
  border: none;
  border-radius: 6px;
  margin-top: 8px;
}
.trade-button:hover {
  background-color: #00e676;
  cursor: pointer;
}
#toast {
  visibility: hidden;
  min-width: 200px;
  background-color: #323232;
  color: white;
  text-align: center;
  padding: 10px;
  border-radius: 10px;
  position: fixed;
  z-index: 1;
  left: 50%;
  bottom: 30px;
  transform: translateX(-50%);
}
#toast.show {
  visibility: visible;
  animation: fadein 0.5s, fadeout 0.5s 2.5s;
}
@keyframes fadein { from { bottom: 20px; opacity: 0; } to { bottom: 30px; opacity: 1; } }
@keyframes fadeout { from { bottom: 30px; opacity: 1; } to { bottom: 20px; opacity: 0; } }
Â  </style>
</head>
<body>
Â  <h2>Crypto Futures Signal Scanner</h2>
Â  <button onclick="scan()">Scan Now</button>
Â  <div id="lastTime" style="margin-bottom:10px;"></div>
Â  <div id="output">Loading...</div>

Â  <script>
Â  Â  const output = document.getElementById("output");
Â  Â  const lastTime = document.getElementById("lastTime");

Â  Â  const apiKey = 'YOUR_BINANCE_API_KEY';
Â  Â  const apiSecret = 'YOUR_BINANCE_API_SECRET';

Â  Â  async function scan() {
Â  Â  Â  output.innerHTML = "Scanning...";
Â  Â  Â  const res = await fetch("https://fapi.binance.com/fapi/v1/ticker/price");
Â  Â  Â  const coins = await res.json();
Â  Â  Â  const usdtPairs = coins.filter(c => c.symbol.endsWith("USDT") && !c.symbol.includes("_"));
Â  Â  Â  const results = await Promise.all(usdtPairs.map(c => analyzeSymbol(c.symbol)));
Â  Â  Â  const filtered = results.filter(r => r);
Â  Â  Â  output.innerHTML = filtered.length > 0 ? filtered.join("") : "No strong signals found.";
Â  Â  Â  lastTime.innerText = "Last scanned: " + new Date().toLocaleTimeString();
Â  Â  }

Â  Â  async function analyzeSymbol(symbol) {
Â  Â  Â  try {
Â  Â  Â  Â  const url = `https://fapi.binance.com/fapi/v1/klines?symbol=${symbol}&interval=15m&limit=100`;
Â  Â  Â  Â  const res = await fetch(url);
Â  Â  Â  Â  const data = await res.json();

Â  Â  Â  Â  const closes = data.map(c => parseFloat(c[4]));
Â  Â  Â  Â  const volumes = data.map(c => parseFloat(c[5]));

Â  Â  Â  Â  const ema9 = calculateEMA(closes, 9);
Â  Â  Â  Â  const ema21 = calculateEMA(closes, 21);
Â  Â  Â  Â  const rsi = calculateRSI(closes, 14);
Â  Â  Â  Â  const { macd, signal } = calculateMACD(closes);
Â  Â  Â  Â  const lastClose = closes[closes.length - 1];
Â  Â  Â  Â  const lastVol = volumes[volumes.length - 1];
Â  Â  Â  Â  const avgVol = volumes.slice(-20).reduce((a, b) => a + b, 0) / 20;

Â  Â  Â  Â  const latestEma9 = ema9[ema9.length - 1];
Â  Â  Â  Â  const latestEma21 = ema21[ema21.length - 1];
Â  Â  Â  Â  const latestRsi = rsi[rsi.length - 1];
Â  Â  Â  Â  const latestMacd = macd[macd.length - 1];
Â  Â  Â  Â  const latestSignal = signal[signal.length - 1];

Â  Â  Â  Â  const candleStrength = (lastClose - data[data.length - 1][1]) / lastClose;

Â  Â  Â  Â  let signalType = null;
Â  Â  Â  Â  let confidence = "Normal";

Â  Â  Â  Â  if (
Â  Â  Â  Â  Â  latestEma9 > latestEma21 &&
Â  Â  Â  Â  Â  latestRsi > 50 &&
Â  Â  Â  Â  Â  latestMacd > latestSignal &&
Â  Â  Â  Â  Â  lastVol > avgVol * 1.2 &&
Â  Â  Â  Â  Â  candleStrength > 0.002
Â  Â  Â  Â  ) {
Â  Â  Â  Â  Â  signalType = "LONG";
Â  Â  Â  Â  Â  confidence = latestRsi > 60 ? "High" : "Medium";
Â  Â  Â  Â  } else if (
Â  Â  Â  Â  Â  latestEma9 < latestEma21 &&
Â  Â  Â  Â  Â  latestRsi < 50 &&
Â  Â  Â  Â  Â  latestMacd < latestSignal &&
Â  Â  Â  Â  Â  lastVol > avgVol * 1.2 &&
Â  Â  Â  Â  Â  candleStrength < -0.002
Â  Â  Â  Â  ) {
Â  Â  Â  Â  Â  signalType = "SHORT";
Â  Â  Â  Â  Â  confidence = latestRsi < 40 ? "High" : "Medium";
Â  Â  Â  Â  }

Â  Â  Â  Â  if (signalType) {
Â  Â  Â  Â  Â  const price = lastClose;
Â  Â  Â  Â  Â  const tp = signalType === "LONG" ? (price * 1.03).toFixed(5) : (price * 0.97).toFixed(5);
Â  Â  Â  Â  Â  const sl = signalType === "LONG" ? (price * 0.98).toFixed(5) : (price * 1.02).toFixed(5);
Â  Â  Â  Â  Â  const tradeSide = signalType === "LONG" ? "BUY" : "SELL";

Â  Â  Â  Â  Â  return `
Â  Â  Â  Â  Â  Â  <div class="signal-block">
Â  Â  Â  Â  Â  Â  Â  <b>ğŸ“Š Symbol:</b> ${symbol}<br>
Â  Â  Â  Â  Â  Â  Â  <b>ğŸš¨ SIGNAL:</b> <span class="${signalType === "LONG" ? "long" : "short"}">${signalType}</span><br>
Â  Â  Â  Â  Â  Â  Â  <b>ğŸ’° Entry:</b> ${price.toFixed(4)}<br>
Â  Â  Â  Â  Â  Â  Â  <b>â­ TP:</b> ${tp}<br>
Â  Â  Â  Â  Â  Â  Â  <b>â›” SL:</b> ${sl}<br>
Â  Â  Â  Â  Â  Â  Â  <b>âš™ï¸ Leverage:</b> 10â€“20x<br>
Â  Â  Â  Â  Â  Â  Â  <b>âœ… Confidence:</b> ${confidence}<br>
Â  Â  Â  Â  Â  Â  Â  <button onclick="placeOrder('${symbol}', '${tradeSide}', ${price.toFixed(4)}, ${tp}, ${sl})">Trade</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  }
Â  Â  Â  } catch (err) {
Â  Â  Â  Â  console.error("Error analyzing", symbol, err);
Â  Â  Â  Â  return null;
Â  Â  Â  }
Â  Â  }

Â  Â  function calculateEMA(closes, period) {
Â  Â  Â  const k = 2 / (period + 1);
Â  Â  Â  let ema = [closes[0]];
Â  Â  Â  for (let i = 1; i < closes.length; i++) {
Â  Â  Â  Â  ema.push(closes[i] * k + ema[i - 1] * (1 - k));
Â  Â  Â  }
Â  Â  Â  return ema;
Â  Â  }

Â  Â  function calculateRSI(closes, period) {
Â  Â  Â  let gains = 0, losses = 0;
Â  Â  Â  for (let i = 1; i <= period; i++) {
Â  Â  Â  Â  let diff = closes[i] - closes[i - 1];
Â  Â  Â  Â  if (diff >= 0) gains += diff;
Â  Â  Â  Â  else losses -= diff;
Â  Â  Â  }
Â  Â  Â  let rs = gains / losses;
Â  Â  Â  let rsi = [100 - 100 / (1 + rs)];

Â  Â  Â  for (let i = period + 1; i < closes.length; i++) {
Â  Â  Â  Â  let diff = closes[i] - closes[i - 1];
Â  Â  Â  Â  if (diff >= 0) {
Â  Â  Â  Â  Â  gains = (gains * (period - 1) + diff) / period;
Â  Â  Â  Â  Â  losses = (losses * (period - 1)) / period;
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  gains = (gains * (period - 1)) / period;
Â  Â  Â  Â  Â  losses = (losses * (period - 1) - diff) / period;
Â  Â  Â  Â  }
Â  Â  Â  Â  rs = gains / losses;
Â  Â  Â  Â  rsi.push(100 - 100 / (1 + rs));
Â  Â  Â  }
Â  Â  Â  return rsi;
Â  Â  }

Â  Â  function calculateMACD(closes) {
Â  Â  Â  const ema12 = calculateEMA(closes, 12);
Â  Â  Â  const ema26 = calculateEMA(closes, 26);
Â  Â  Â  const macd = ema12.map((val, i) => val - ema26[i]);
Â  Â  Â  const signal = calculateEMA(macd.slice(ema26.length - macd.length), 9);
Â  Â  Â  return { macd: macd.slice(-signal.length), signal };
Â  Â  }

Â  Â  function placeOrder(symbol, side, entry, tp, sl) {
  const msg = Placing ${side} order for ${symbol} at ${entry}\nTP: ${tp}\nSL: ${sl};
  console.log(msg);

  // Simulate response
  const success = Math.random() > 0.1; // 90% chance of success

  showToast(success ? âœ… Order placed for ${symbol} : âŒ Failed to place order for ${symbol});
}

function showToast(message) {
  const toast = document.getElementById("toast");
  toast.innerText = message;
  toast.className = "show";
  setTimeout(() => { toast.className = toast.className.replace("show", ""); }, 3000);
}

Â  Â  scan(); // auto scan on load
Â  </script>
  <div id="toast"></div>
</body>
</html>
